<div *ngIf="open" class="backdrop" (click)="close()">
  <div
    class="modal"
    role="dialog"
    aria-modal="true"
    aria-labelledby="tp-title"
    (click)="$event.stopPropagation()"
    [attr.aria-busy]="loading ? 'true' : 'false'">

    <header class="modal-header">
      <h3 id="tp-title">Tipos de póliza</h3>
      <button type="button" class="icon-btn" (click)="close()">✕</button>
    </header>

    <!-- LISTA -->
    

    <!-- FORM -->
                 

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="modal-body">
 <Strong>   Registrar nuevo tipo de póliza</Strong>
      <div *ngIf="editing" class="pill">Editando: {{ tipoEditando?.descripcion }}</div>

      <div class="form-row">
        <label>Naturaleza de póliza *</label>
        <select formControlName="naturaleza">
          <option value="" disabled>— Selecciona —</option>
         <option *ngFor="let n of naturalezasDisponibles" [value]="n">
  {{ n | titlecase }}
</option>

        </select>
      </div>

      <div class="form-row">
        <label>Descripción de la póliza *</label>
        <input formControlName="descripcion" placeholder="p. ej. Póliza de ventas" />
      </div>

      <footer class="modal-footer">
        <button type="button" class="btn ghost" (click)="editing ? cancelEdit() : close()">
          {{ editing ? 'Cancelar edición' : 'Cancelar' }}
        </button>

        <button type="submit" class="btn primary" [disabled]="form.invalid || loading">
          {{ editing ? (loading ? 'Actualizando…' : 'Actualizar') : (loading ? 'Guardando…' : 'Guardar') }}
        </button>
      </footer>
    </form>
  </div>
</div>

<!-- MODAL CONFIRMACIÓN ELIMINAR -->
<app-modal
  *ngIf="showDeleteModal"
  [open]="showDeleteModal"
  title="Confirmar eliminación"
  size="sm"
  (confirmed)="eliminarDefinitivo()"
  (closed)="cancelarEliminar()"
  (canceled)="cancelarEliminar()">

  <p>¿Eliminar el tipo de póliza <strong>{{ tipoAEliminar?.descripcion }}</strong>?</p>
</app-modal>
