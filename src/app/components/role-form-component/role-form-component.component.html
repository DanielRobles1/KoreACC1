<div class="bg-white p-8 rounded-lg shadow-lg">
  <form #form="ngForm" (ngSubmit)="submit()" class="space-y-6">
    <div class="form-field">
      <label for="name" class="block text-sm font-semibold text-gray-800">Nombre del Rol</label>
      <input
        id="name"
        type="text"
        [(ngModel)]="localValue.nombre"
        name="nombre"
        required
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm p-3 transition-colors duration-200"
        placeholder="Ej: Administrador, Editor, etc."
      />
    </div>

    <div class="form-field">
      <label for="description" class="block text-sm font-semibold text-gray-800">Descripción</label>
      <textarea
        id="description"
        [(ngModel)]="localValue.descripcion"
        name="descripcion"
        rows="3"
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm p-3 transition-colors duration-200"
        placeholder="Una breve descripción del rol."
      ></textarea>
    </div>

    <!-- Buscador permisos -->
    <div class="form-field">
      <label for="search" class="block text-sm font-semibold text-gray-800">Buscar permisos</label>
      <input
        id="search"
        type="text"
        [(ngModel)]="searchTerm"
        name="searchTerm"
        placeholder="Escribe para filtrar permisos..."
        class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm p-3 transition-colors duration-200"
      />
    </div>

    <div class="form-field">
      <label class="block text-sm font-semibold text-gray-800">Permisos</label>
      <div class="mt-3 space-y-3">
        <!--  permisos filtrados -->
        <div *ngFor="let permission of filteredPermissions" class="flex items-start">
          <div class="flex items-center h-5">
            <input
              type="checkbox"
              [id]="permission"
              [value]="permission"
              [checked]="localValue.permissions?.includes(permission)"
              (change)="togglePermission(permission, $event)"
              class="focus:ring-purple-500 h-5 w-5 text-purple-600 border-gray-300 rounded transition-colors duration-200"
            />
          </div>
          <div class="ml-3 text-sm">
            <label [for]="permission" class="font-medium text-gray-700">{{ permission }}</label>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
