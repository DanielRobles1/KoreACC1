<div class="layout" [class.is-collapsed]="!sidebarOpen">
  <app-sidebar
    class="sidebar"
    [open]="sidebarOpen"
    (openChange)="onSidebarToggle($event)">
  </app-sidebar>

  <div class="content">
    <app-crud-panel
      [title]="title"
      [tabs]="tabs"
      (activeTabId)="activeTabId"
      (tabChange)="onTabChange($event)"
      [primaryActionLabel]="primaryActionLabel"
      (primaryAction)="onPrimary()"
      [disablePrimary]="!canCreate"
      [columns]="columns"
      [data]="rows"
      [actions]="actions"
      (action)="onRowAction($event)">
    </app-crud-panel>
  </div>
</div>

<app-toast-message
  [open]="noPermsOpen"
  [title]="noPermsTitle"
  [message]="noPermsMessage"
  type="warning"
  position="top-right"
  [autoCloseMs]="3500"
  (closed)="closeNoPerms()"
/>

<!-- Modal ConfirmaciÃ³n: ELIMINAR -->
<app-modal
  [open]="confirmOpen"
  [title]="confirmTitle"
  size="sm"
  (closed)="closeConfirm()"
  (canceled)="cancelConfirm()"
  (confirmed)="confirmProceed()">
  <p class="mb-2">{{ confirmMessage }}</p>
</app-modal>

<!-- TOAST Ã‰XITO -->
<app-toast-message
  [open]="successOpen"
  [title]="successTitle"
  [message]="successMessage"
  type="success"
  position="top-right"
  [autoCloseMs]="3000"
  (closed)="closeSuccess()"
/>

<!-- TOAST ERROR (sin autocierre) -->
<app-toast-message
  [open]="errorOpen"
  [title]="errorTitle"
  [message]="errorMessage"
  type="error"
  position="top-right"
  [autoCloseMs]="0"
  (closed)="closeError()"
/>