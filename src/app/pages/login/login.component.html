<div class="min-h-screen bg-gradient-to-b from-white via-gray-000 to-slate-300">
  
  <div class="pt-8 px-6">
    <h1 class="text-center text-3xl md:text-4xl font-semibold">
      Bienvenido a <span class="font-extrabold">KORE ACC</span>
    </h1>
  </div>

  
  <div class="mx-auto w-full max-w-7xl px-6 py-8">
    <div
      class="flex flex-col md:flex-row items-stretch gap-8 md:gap-12
             bg-white/80 backdrop-blur
             rounded-[28px] ring-1 ring-black/10 shadow-[0_12px_40px_rgba(0,0,0,0.12)]
             p-6 md:p-10">

 
      <div class="hidden md:flex flex-1 items-center justify-center">
        <img src="/assets/svgs/Kore-ACC.svg" alt="Logo KORE ACC"
             class="w-[360px] md:w-[420px] h-auto object-contain" />
      </div>

      <!-- Formulario para hacer login-->
      <div class="flex-1 flex items-center justify-center rounded-[76px]">
        <div
          class="w-full max-w-xl
                 bg-white rounded-[76px]
                 ring-1 ring-black/10 shadow-xl
                 px-6 md:px-10 py-8">

          <h2 class="text-2xl md:text-3xl font-extrabold text-center mb-6">
            Inicia sesión
          </h2>

          <form [formGroup]="loginForm" (ngSubmit)="submit()" class="space-y-6">
          <!-- Usuario -->
<div class="relative">
  <input
    type="text"
    formControlName="username"
    placeholder="Usuario"
    class="w-full border-b border-gray-400 focus:border-black placeholder-gray-500
           bg-transparent outline-none py-2 pr-10"
  />
  <!-- Icono persona  -->
  <svg xmlns="http://www.w3.org/2000/svg"
       fill="none" viewBox="0 0 24 24" stroke="currentColor"
       class="w-5 h-5 absolute right-2 top-1/2 -translate-y-1/2 text-gray-500">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 
             1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 
             1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
  </svg>

  <small class="text-red-600"
         *ngIf="loginForm.get('username')?.touched && loginForm.get('username')?.invalid">
    El usuario es obligatorio
  </small>
</div>


            <!-- Contraseña-->
            <div class="relative">
              <input
                [type]="showPassword ? 'text' : 'password'"
                formControlName="password"
                placeholder="Contraseña"
                class="w-full border-b border-gray-400 focus:border-black placeholder-gray-500
                       bg-transparent outline-none py-2 pr-10"
              />
              <!-- mostrar u ocultar la contraseña-->
              <i
                (click)="togglePassword()"
                class="fa cursor-pointer absolute right-2 top-2.5 text-gray-500"
                [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'">
              </i>

              <!-- mensajes de error de contraseña campos vacios-->
              <div *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.invalid"
                   class="text-red-600 text-sm mt-1">
                <div *ngIf="loginForm.get('password')?.errors?.['required']">
                  La contraseña es obligatoria
                </div>
                <div *ngIf="loginForm.get('password')?.errors?.['minlength']">
                  Debe tener al menos 8 caracteres
                </div>
                <div *ngIf="loginForm.get('password')?.errors?.['pattern']">
                  Debe incluir al menos una mayúscula, una minúscula,
                  un número y un carácter especial
                </div>
              </div>
            </div>

            <!-- reCAPTCHA -->
            <div class="flex justify-center">
              <div class="w-full max-w-sm bg-gray-50 border border-black/10 rounded-lg p-3">
                <re-captcha
                  siteKey="6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI"
                  (resolved)="onRecaptchaResolved($event)">
                </re-captcha>
              </div>
            </div>

            <!-- Recordarme / Olvidé contraseña -->
            <div class="flex items-center justify-between text-sm">
              <label class="flex items-center gap-2 select-none">
                <input type="checkbox" formControlName="remember" class="accent-black" />
                <span>¿Recordarme?</span>
              </label>
             <a (click)="forgotPassword()" class="cursor-pointer text-blue-600 hover:underline">
  Olvidé mi contraseña
</a>

            </div>
<!-- el disable es para desactivar si los campos estan mal -->

            <!-- Botón -->
            <button
              type="submit"
              [disabled]="loginForm.invalid || loading"
              class="w-full bg-black text-white py-2.5 rounded-lg
                     shadow disabled:opacity-60 disabled:cursor-not-allowed
                     hover:bg-neutral-800 transition">
              {{ loading ? 'Ingresando...' : 'Acceder' }}
            </button>

          
            <div *ngIf="authError" class="text-center text-red-600 text-sm">
              {{ authError }}
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
